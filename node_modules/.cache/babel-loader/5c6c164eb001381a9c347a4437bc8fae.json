{"remainingRequest":"C:\\Users\\user\\Desktop\\vue projects\\vue-app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\user\\Desktop\\vue projects\\vue-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\user\\Desktop\\vue projects\\vue-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\vue projects\\vue-app\\src\\components\\header\\Searchbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\vue projects\\vue-app\\src\\components\\header\\Searchbar.vue","mtime":1645483700833},{"path":"C:\\Users\\user\\Desktop\\vue projects\\vue-app\\babel.config.js","mtime":1641916914764},{"path":"C:\\Users\\user\\Desktop\\vue projects\\vue-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641916756213},{"path":"C:\\Users\\user\\Desktop\\vue projects\\vue-app\\node_modules\\babel-loader\\lib\\index.js","mtime":1641916792236},{"path":"C:\\Users\\user\\Desktop\\vue projects\\vue-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641916756213},{"path":"C:\\Users\\user\\Desktop\\vue projects\\vue-app\\node_modules\\vue-loader\\lib\\index.js","mtime":1641916799895}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xcdXNlclxcRGVza3RvcFxcdnVlIHByb2plY3RzXFx2dWUtYXBwXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaFJlc3VsdDogW10sCiAgICAgIHNlYXJjaFRlcm06ICIiLAogICAgICBzaG93U2VhcmNoUmVzdWx0OiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmtleWJvYXJkRXZlbnRzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBkZWJvdW5jZVNlYXJjaDogZnVuY3Rpb24gZGVib3VuY2VTZWFyY2goZXZlbnQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmRlYm91bmNlKTsKICAgICAgdGhpcy5kZWJvdW5jZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChldmVudC50YXJnZXQudmFsdWUubGVuZ3RoID4gMykgewogICAgICAgICAgX3RoaXMuZmV0Y2hTZWFyY2goZXZlbnQudGFyZ2V0LnZhbHVlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuc2hvd1NlYXJjaFJlc3VsdCA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSwgNjAwKTsKICAgIH0sCiAgICBmZXRjaFNlYXJjaDogZnVuY3Rpb24gZmV0Y2hTZWFyY2godGVybSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRodHRwLmdldCgiL3NlYXJjaC9tb3ZpZT9xdWVyeT0iICsgdGVybSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMi5zZWFyY2hSZXN1bHQgPSByZXNwb25zZS5kYXRhLnJlc3VsdHM7CiAgICAgICAgICAgICAgICBfdGhpczIuc2hvd1NlYXJjaFJlc3VsdCA9IHJlc3BvbnNlLmRhdGEucmVzdWx0cyA/IHRydWUgOiBmYWxzZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDhdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhbmRsZUZvY3VzOiBmdW5jdGlvbiBoYW5kbGVGb2N1cygpIHsKICAgICAgaWYgKHRoaXMuc2VhcmNoVGVybSAhPSAiIikgewogICAgICAgIHRoaXMuc2hvd1NlYXJjaFJlc3VsdCA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBrZXlib2FyZEV2ZW50czogZnVuY3Rpb24ga2V5Ym9hcmRFdmVudHMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHdpbmRvd09iaiA9IHRoaXM7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKCFfdGhpczMuJGVsLmNvbnRhaW5zKGUudGFyZ2V0KSkgewogICAgICAgICAgX3RoaXMzLnNob3dTZWFyY2hSZXN1bHQgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigia2V5cHJlc3MiLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChlLmtleUNvZGUgPT0gIjQ3IikgewogICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgd2luZG93T2JqLiRyZWZzLnNlYXJjaEJveC5mb2N1cygpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoZS5rZXkgPT0gIkVzY2FwZSIpIHsKICAgICAgICAgIF90aGlzMy5zaG93U2VhcmNoUmVzdWx0ID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBwb3N0ZXJQYXRoOiBmdW5jdGlvbiBwb3N0ZXJQYXRoKHBvc3Rlcl9wYXRoKSB7CiAgICAgIGlmIChwb3N0ZXJfcGF0aCkgewogICAgICAgIHJldHVybiAiaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3AvdzUwMC8iICsgcG9zdGVyX3BhdGg7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICJodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vNTB4NzUiOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Searchbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,gBAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,OARA,qBAQA;AACA,SAAA,cAAA;AACA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,0BACA,KADA,EACA;AAAA;;AACA,MAAA,YAAA,CAAA,KAAA,QAAA,CAAA;AACA,WAAA,QAAA,GAAA,UAAA,CAAA,YAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,WAAA,CAAA,KAAA,CAAA,MAAA,CAAA,KAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,gBAAA,GAAA,KAAA;AACA;AACA,OANA,EAMA,GANA,CAAA;AAOA,KAVA;AAWA,IAAA,WAXA,uBAWA,IAXA,EAWA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,MAAA,CAAA,KAAA,CAAA,GAAA,CAAA,yBAAA,IAAA,CAFA;;AAAA;AAEA,gBAAA,QAFA;AAGA,gBAAA,MAAA,CAAA,YAAA,GAAA,QAAA,CAAA,IAAA,CAAA,OAAA;AACA,gBAAA,MAAA,CAAA,gBAAA,GAAA,QAAA,CAAA,IAAA,CAAA,OAAA,GAAA,IAAA,GAAA,KAAA;AAJA;AAAA;;AAAA;AAAA;AAAA;AAMA,gBAAA,OAAA,CAAA,GAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KAnBA;AAoBA,IAAA,WApBA,yBAoBA;AACA,UAAA,KAAA,UAAA,IAAA,EAAA,EAAA;AACA,aAAA,gBAAA,GAAA,IAAA;AACA;AACA,KAxBA;AAyBA,IAAA,cAzBA,4BAyBA;AAAA;;AACA,UAAA,SAAA,GAAA,IAAA;AACA,MAAA,MAAA,CAAA,gBAAA,CAAA,OAAA,EAAA,UAAA,CAAA,EAAA;AACA,YAAA,CAAA,MAAA,CAAA,GAAA,CAAA,QAAA,CAAA,CAAA,CAAA,MAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,gBAAA,GAAA,KAAA;AACA;AACA,OAJA;AAKA,MAAA,MAAA,CAAA,gBAAA,CAAA,UAAA,EAAA,UAAA,CAAA,EAAA;AACA,YAAA,CAAA,CAAA,OAAA,IAAA,IAAA,EAAA;AACA,UAAA,CAAA,CAAA,cAAA;AACA,UAAA,SAAA,CAAA,KAAA,CAAA,SAAA,CAAA,KAAA;AACA;AACA,OALA;AAMA,MAAA,MAAA,CAAA,gBAAA,CAAA,SAAA,EAAA,UAAA,CAAA,EAAA;AACA,YAAA,CAAA,CAAA,GAAA,IAAA,QAAA,EAAA;AACA,UAAA,MAAA,CAAA,gBAAA,GAAA,KAAA;AACA;AACA,OAJA;AAKA,KA3CA;AA4CA,IAAA,UA5CA,sBA4CA,WA5CA,EA4CA;AACA,UAAA,WAAA,EAAA;AACA,eAAA,qCAAA,WAAA;AACA,OAFA,MAEA;AACA,eAAA,mCAAA;AACA;AACA;AAlDA;AAXA,CAAA","sourcesContent":["<template>\r\n  <div class=\"mt-5 flex relative\">\r\n    <input\r\n      ref=\"searchBox\"\r\n      type=\"text\"\r\n      class=\"rounded-full bg-gray-600 px-7 w-50 h-10 mr-3 focus:outline-none focus:outline-shawod\"\r\n      placeholder=\"Search..\"\r\n      @input=\"debounceSearch\"\r\n      v-model=\"searchTerm\"\r\n      @focus=\"handleFocus\"\r\n    />\r\n    <div class=\"absolute top-0\">\r\n      <svg\r\n        class=\"fill-current w-4 text-gray-300 mt-2 ml-2 mt-3\"\r\n        viewBox=\"0 0 24 24\"\r\n      >\r\n        <path\r\n          class=\"heroicon-ui\"\r\n          d=\"M16.32 14.9l5.39 5.4a1 1 0 01-1.42 1.4l-5.38-5.38a8 8 0 111.41-1.41zM10 16a6 6 0 100-12 6 6 0 000 12z\"\r\n        />\r\n      </svg>\r\n    </div>\r\n\r\n    <div class=\"absolute mt-12 rounded bg-gray-600 w-60 z-50\">\r\n      <ul class=\"mt-3\" v-if=\"showSearchResult\">\r\n        <li :key=\"index\" v-for=\"(movie, index) in searchResult\">\r\n          <router-link\r\n            :to=\"`/tony-movies/movie/${movie.id}`\"\r\n            @click.native=\"showSearchResult = false\"\r\n            class=\"flex items-center border-b border-gray-500 p-1\"\r\n          >\r\n            <img :src=\"posterPath(movie.poster_path)\" alt=\"\" class=\"w-10\" />\r\n            <span class=\"ml-3\">{{ movie.title }}</span>\r\n          </router-link>\r\n        </li>\r\n      </ul>\r\n      <ul class=\"px-3\" v-if=\"searchResult.length == 0 && showSearchResult\">\r\n        <li>No result found for \"{{ searchTerm }}\"</li>\r\n      </ul>\r\n    </div>\r\n\r\n    <img src=\"@/assets/images/pro.jpg\" alt=\"\" class=\"h-10 rounded-full\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      searchResult: [],\r\n      searchTerm: \"\",\r\n      showSearchResult: false, \r\n    };\r\n  },\r\n  mounted() {\r\n    this.keyboardEvents();\r\n  },\r\n  methods: {\r\n    debounceSearch(event) {\r\n      clearTimeout(this.debounce);\r\n      this.debounce = setTimeout(() => {\r\n        if (event.target.value.length > 3) {\r\n          this.fetchSearch(event.target.value);\r\n        } else {\r\n          this.showSearchResult = false;\r\n        }\r\n      }, 600);\r\n    },\r\n    async fetchSearch(term) {\r\n      try {\r\n        const response = await this.$http.get(\"/search/movie?query=\" + term);\r\n        this.searchResult = response.data.results;\r\n        this.showSearchResult = response.data.results ? true : false;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    handleFocus() {\r\n      if (this.searchTerm != \"\") {\r\n        this.showSearchResult = true;\r\n      }\r\n    },\r\n    keyboardEvents() {\r\n      let windowObj = this;\r\n      window.addEventListener(\"click\", (e) => {\r\n        if (!this.$el.contains(e.target)) {\r\n          this.showSearchResult = false;\r\n        }\r\n      });\r\n      window.addEventListener(\"keypress\", (e) => {\r\n        if (e.keyCode == \"47\") {\r\n          e.preventDefault();\r\n          windowObj.$refs.searchBox.focus();\r\n        }\r\n      });\r\n      window.addEventListener(\"keydown\", (e) => {\r\n        if (e.key == \"Escape\") {\r\n          this.showSearchResult = false;\r\n        }\r\n      });\r\n    },\r\n    posterPath(poster_path) {\r\n      if (poster_path) {\r\n        return \"https://image.tmdb.org/t/p/w500/\" + poster_path;\r\n      } else {\r\n        return \"https://via.placeholder.com/50x75\";\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>"],"sourceRoot":"src/components/header"}]}