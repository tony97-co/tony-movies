{"remainingRequest":"C:\\Users\\user\\Desktop\\vue projects\\my-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\vue projects\\my-project\\src\\components\\header\\Searchbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\vue projects\\my-project\\src\\components\\header\\Searchbar.vue","mtime":1644943020261},{"path":"C:\\Users\\user\\Desktop\\vue projects\\my-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641916756213},{"path":"C:\\Users\\user\\Desktop\\vue projects\\my-project\\node_modules\\babel-loader\\lib\\index.js","mtime":1641916792236},{"path":"C:\\Users\\user\\Desktop\\vue projects\\my-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641916756213},{"path":"C:\\Users\\user\\Desktop\\vue projects\\my-project\\node_modules\\vue-loader\\lib\\index.js","mtime":1641916799895}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHNlYXJjaFJlc3VsdDogW10sDQogICAgICBzZWFyY2hUZXJtOiAiIiwNCiAgICAgIHNob3dTZWFyY2hSZXN1bHQ6IGZhbHNlLCANCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMua2V5Ym9hcmRFdmVudHMoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGRlYm91bmNlU2VhcmNoKGV2ZW50KSB7DQogICAgICBjbGVhclRpbWVvdXQodGhpcy5kZWJvdW5jZSk7DQogICAgICB0aGlzLmRlYm91bmNlID0gc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIGlmIChldmVudC50YXJnZXQudmFsdWUubGVuZ3RoID4gMykgew0KICAgICAgICAgIHRoaXMuZmV0Y2hTZWFyY2goZXZlbnQudGFyZ2V0LnZhbHVlKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLnNob3dTZWFyY2hSZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgfSwgNjAwKTsNCiAgICB9LA0KICAgIGFzeW5jIGZldGNoU2VhcmNoKHRlcm0pIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoIi9zZWFyY2gvbW92aWU/cXVlcnk9IiArIHRlcm0pOw0KICAgICAgICB0aGlzLnNlYXJjaFJlc3VsdCA9IHJlc3BvbnNlLmRhdGEucmVzdWx0czsNCiAgICAgICAgdGhpcy5zaG93U2VhcmNoUmVzdWx0ID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRzID8gdHJ1ZSA6IGZhbHNlOw0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOw0KICAgICAgfQ0KICAgIH0sDQogICAgaGFuZGxlRm9jdXMoKSB7DQogICAgICBpZiAodGhpcy5zZWFyY2hUZXJtICE9ICIiKSB7DQogICAgICAgIHRoaXMuc2hvd1NlYXJjaFJlc3VsdCA9IHRydWU7DQogICAgICB9DQogICAgfSwNCiAgICBrZXlib2FyZEV2ZW50cygpIHsNCiAgICAgIGxldCB3aW5kb3dPYmogPSB0aGlzOw0KICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKGUpID0+IHsNCiAgICAgICAgaWYgKCF0aGlzLiRlbC5jb250YWlucyhlLnRhcmdldCkpIHsNCiAgICAgICAgICB0aGlzLnNob3dTZWFyY2hSZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigia2V5cHJlc3MiLCAoZSkgPT4gew0KICAgICAgICBpZiAoZS5rZXlDb2RlID09ICI0NyIpIHsNCiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgd2luZG93T2JqLiRyZWZzLnNlYXJjaEJveC5mb2N1cygpOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgKGUpID0+IHsNCiAgICAgICAgaWYgKGUua2V5ID09ICJFc2NhcGUiKSB7DQogICAgICAgICAgdGhpcy5zaG93U2VhcmNoUmVzdWx0ID0gZmFsc2U7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgcG9zdGVyUGF0aChwb3N0ZXJfcGF0aCkgew0KICAgICAgaWYgKHBvc3Rlcl9wYXRoKSB7DQogICAgICAgIHJldHVybiAiaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3AvdzUwMC8iICsgcG9zdGVyX3BhdGg7DQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gImh0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS81MHg3NSI7DQogICAgICB9DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["Searchbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Searchbar.vue","sourceRoot":"src/components/header","sourcesContent":["<template>\r\n  <div class=\"mt-5 flex relative\">\r\n    <input\r\n      ref=\"searchBox\"\r\n      type=\"text\"\r\n      class=\"rounded-full bg-gray-600 px-7 w-50 h-10 mr-3 focus:outline-none focus:outline-shawod\"\r\n      placeholder=\"Search..\"\r\n      @input=\"debounceSearch\"\r\n      v-model=\"searchTerm\"\r\n      @focus=\"handleFocus\"\r\n    />\r\n    <div class=\"absolute top-0\">\r\n      <svg\r\n        class=\"fill-current w-4 text-gray-300 mt-2 ml-2 mt-3\"\r\n        viewBox=\"0 0 24 24\"\r\n      >\r\n        <path\r\n          class=\"heroicon-ui\"\r\n          d=\"M16.32 14.9l5.39 5.4a1 1 0 01-1.42 1.4l-5.38-5.38a8 8 0 111.41-1.41zM10 16a6 6 0 100-12 6 6 0 000 12z\"\r\n        />\r\n      </svg>\r\n    </div>\r\n\r\n    <div class=\"absolute mt-12 rounded bg-gray-600 w-60 z-50\">\r\n      <ul class=\"mt-3\" v-if=\"showSearchResult\">\r\n        <li :key=\"index\" v-for=\"(movie, index) in searchResult\">\r\n          <router-link\r\n            :to=\"`/movie/${movie.id}`\"\r\n            @click.native=\"showSearchResult = false\"\r\n            class=\"flex items-center border-b border-gray-500 p-1\"\r\n          >\r\n            <img :src=\"posterPath(movie.poster_path)\" alt=\"\" class=\"w-10\" />\r\n            <span class=\"ml-3\">{{ movie.title }}</span>\r\n          </router-link>\r\n        </li>\r\n      </ul>\r\n      <ul class=\"px-3\" v-if=\"searchResult.length == 0 && showSearchResult\">\r\n        <li>No result found for \"{{ searchTerm }}\"</li>\r\n      </ul>\r\n    </div>\r\n\r\n    <img src=\"@/assets/images/pro.jpg\" alt=\"\" class=\"h-10 rounded-full\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      searchResult: [],\r\n      searchTerm: \"\",\r\n      showSearchResult: false, \r\n    };\r\n  },\r\n  mounted() {\r\n    this.keyboardEvents();\r\n  },\r\n  methods: {\r\n    debounceSearch(event) {\r\n      clearTimeout(this.debounce);\r\n      this.debounce = setTimeout(() => {\r\n        if (event.target.value.length > 3) {\r\n          this.fetchSearch(event.target.value);\r\n        } else {\r\n          this.showSearchResult = false;\r\n        }\r\n      }, 600);\r\n    },\r\n    async fetchSearch(term) {\r\n      try {\r\n        const response = await this.$http.get(\"/search/movie?query=\" + term);\r\n        this.searchResult = response.data.results;\r\n        this.showSearchResult = response.data.results ? true : false;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    handleFocus() {\r\n      if (this.searchTerm != \"\") {\r\n        this.showSearchResult = true;\r\n      }\r\n    },\r\n    keyboardEvents() {\r\n      let windowObj = this;\r\n      window.addEventListener(\"click\", (e) => {\r\n        if (!this.$el.contains(e.target)) {\r\n          this.showSearchResult = false;\r\n        }\r\n      });\r\n      window.addEventListener(\"keypress\", (e) => {\r\n        if (e.keyCode == \"47\") {\r\n          e.preventDefault();\r\n          windowObj.$refs.searchBox.focus();\r\n        }\r\n      });\r\n      window.addEventListener(\"keydown\", (e) => {\r\n        if (e.key == \"Escape\") {\r\n          this.showSearchResult = false;\r\n        }\r\n      });\r\n    },\r\n    posterPath(poster_path) {\r\n      if (poster_path) {\r\n        return \"https://image.tmdb.org/t/p/w500/\" + poster_path;\r\n      } else {\r\n        return \"https://via.placeholder.com/50x75\";\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>"]}]}